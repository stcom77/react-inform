!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.reactInform=t(require("react")):e.reactInform=t(e.React)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackFormSubmit=t.DisabledFormSubmit=t.ResetFormButton=t.from=t.createValidate=t.form=void 0;var o=n(5),u=r(o),i=n(2),a=r(i),s=n(6),c=r(s),l=n(8),f=r(l),p=n(3),d=r(p),h=n(4),v=r(h);t.default=u.default,t.form=u.default,t.createValidate=a.default,t.from=c.default,t.ResetFormButton=f.default,t.DisabledFormSubmit=d.default,t.FeedbackFormSubmit=v.default},function(t,n){t.exports=e},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.keys(e);return{keys:r,index:t,key:r[t],value:e[r[t]],next:function(){return n(e,t+1,r)},done:t>=r.length}}function r(e,t,n){if(!n.done){var o=n.value(e,t);return u(o)?o.then(function(o){return o?r(e,t,n.next()):n.key}):o?r(e,t,n.next()):n.key}}function o(e){return function(t){var o={},i=[];return Object.keys(e).forEach(function(a){var s=e[a],c=t[a],l=r(c,t,n(s));u(l)?i.push(l.then(function(e){void 0!==e&&(o[a]=e)})):void 0!==l&&(o[a]=l)}),0===i.length?o:Promise.all(i).then(function(){return o})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var u=function(e){return!!e&&e.then instanceof Function}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return a.default.createElement("input",u({type:"submit",disabled:!t.form.isValid()},e))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var i=n(1),a=r(i);o.contextTypes={form:i.PropTypes.object.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),d=(s=a=function(e){function t(){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"handleClick",value:function(e){this.context.form.isValid()||(e.preventDefault(),this.context.form.forceValidate(),this.props.onInvalid&&this.props.onInvalid(e)),this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=this;return p.default.createElement("input",c({type:"submit"},this.props,{onClick:function(t){return e.handleClick(t)}}))}}]),t}(f.Component),a.propTypes={onInvalid:f.PropTypes.func,onClick:f.PropTypes.func},a.contextTypes={form:f.PropTypes.object.isRequired},s);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fields,n=void 0===t?[]:t,r=e.validate,c=void 0===r?function(){return{}}:r;return function(e){var t,r;return r=t=function(t){function n(){var e,t,r,o;i(this,n);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return t=r=a(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(s))),r.state={errors:{},valid:void 0},r.broadcastChange=function(e){r.props.onChange&&r.props.onChange(e)},r.broadcastTouched=function(e){r.props.onTouch&&r.props.onTouch(e)},o=t,a(r,o)}return s(n,t),f(n,[{key:"componentWillMount",value:function(){var e=this.props.value||{};this.setState({values:e});var t=this.props.touched||{};this.setState({touched:t}),this.handleValidate(e)}},{key:"componentWillReceiveProps",value:function(e){if(void 0!==e.value){var t=e.value;this.setState({values:t}),this.handleValidate(t,e.validate)}else void 0!==e.validate&&this.handleValidate(this.state.values,e.validate);if(void 0!==e.touched){var n=e.touched;this.setState({touched:n})}}},{key:"setValues",value:function(e){var t=this;void 0!==e&&(void 0!==this.props.value?this.broadcastChange(e):(this.setState({values:e},function(){return t.broadcastChange(e)}),this.handleValidate(e)))}},{key:"setErrors",value:function(e){var t=0===Object.keys(e).length;t!==this.state.valid&&(this.setState({valid:t}),this.props.onValidate&&this.props.onValidate(t)),this.setState({errors:e})}},{key:"handleValidate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.validate,r=n(e);r.then instanceof Function?r.then(function(e){return t.setErrors(e)}):this.setErrors(r)}},{key:"handleChange",value:function(e,t){var n=(0,v.default)(t),r=l({},this.state.values,u({},e,n));n!==this.state.values[e]&&this.setValues(r)}},{key:"updateTouched",value:function(e){var t=this;void 0!==this.props.touched?this.broadcastTouched(e):this.setState({touched:e},function(){return t.broadcastTouched(e)})}},{key:"touch",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.filter(function(e){return t.props.fields.indexOf(e)!==-1}),o=r.reduce(function(e,r){return e&&t.state.touched[r]===n},!0);if(!o){var i=r.reduce(function(e,t){return l({},e,u({},t,n))},this.state.touched);this.updateTouched(i)}}},{key:"formProps",value:function(){var e=this;return{isValid:function(){return e.state.valid},touch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.touch(t)},forceValidate:function(){return e.touch(e.props.fields)},untouch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.touch(t,!1)},resetTouched:function(){return e.touch(e.props.fields,!1)},values:function(){return e.state.values},onValues:function(t){e.setValues(t)},getErrors:function(){return e.state.errors}}}},{key:"baseProps",value:function(e){var t=this,n=this.state.values;return{onChange:function(n){return t.handleChange(e,n)},onBlur:function(){return t.touch([e])},value:n[e]||"",checked:"boolean"==typeof n[e]?n[e]:void 0}}},{key:"makeField",value:function(e){var t=this.state,n=t.errors,r=t.touched,o=this.baseProps(e);return l({},o,{error:r[e]?n[e]:void 0,props:o})}},{key:"makeFields",value:function(){var e=this;return this.props.fields.reduce(function(t,n){return l({},t,u({},n,e.makeField(n)))},{})}},{key:"generatedProps",value:function(){return{form:this.formProps(),fields:this.makeFields()}}},{key:"getChildContext",value:function(){return this.generatedProps()}},{key:"render",value:function(){var t=this.props,n=(t.value,t.onChange,t.onValidate,t.validate,t.fields,o(t,["value","onChange","onValidate","validate","fields"]));return d.default.createElement(e,l({},n,this.generatedProps()))}}]),n}(p.Component),t.defaultProps={fields:n,validate:c},t.childContextTypes={form:p.PropTypes.object,fields:p.PropTypes.object},t.propTypes={fields:p.PropTypes.array,validate:p.PropTypes.func,value:p.PropTypes.object,touched:p.PropTypes.object,onTouch:p.PropTypes.func,onChange:p.PropTypes.func,onValidate:p.PropTypes.func,getErrors:p.PropTypes.func},r}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=c;var p=n(1),d=r(p),h=n(7),v=r(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return{fields:Object.keys(e),validate:(0,i.default)(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var u=n(2),i=r(u)},function(e,t){"use strict";function n(e){if(u(e)){var t=e.target,n=t.type,i=t.value,a=t.checked,s=t.files,c=e.dataTransfer;return"checkbox"===n?a:"file"===n?s||c&&c.files:"select-multiple"===n?o(e.target.options):i}return e&&"object"===("undefined"==typeof e?"undefined":r(e))&&void 0!==e.value?e.value:e}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n;var o=function(e){var t=[];if(e)for(var n=0;n<e.length;n+=1){var r=e[n];r.selected&&t.push(r.value)}return t},u=function(e){return!!(e&&e.stopPropagation&&e.preventDefault)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,c,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(1),d=r(p),h=(c=s=function(e){function t(){return u(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),f(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.context.form.onValues({}),this.props.resetTouched&&this.context.form.resetTouched()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=(t.resetTouched,o(t,["children","resetTouched"]));return d.default.createElement("button",l({},r,{onClick:function(t){return e.handleClick(t)}}),n||"Reset")}}]),t}(p.Component),s.propTypes={children:p.PropTypes.string,resetTouched:p.PropTypes.boolean},s.contextTypes={form:p.PropTypes.object.isRequired},c);t.default=h}])});